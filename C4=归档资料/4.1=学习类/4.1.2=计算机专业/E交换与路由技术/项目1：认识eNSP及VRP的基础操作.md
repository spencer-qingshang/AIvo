# 项目1：认识eNSP及VRP的基础操作 (零基础入门版)

## 一、 学习目标
*   **理解工具**：搞清楚eNSP是干什么的，为什么学网络要用它。
*   **掌握对话方式**：学会如何跟华为的网络设备（路由器/交换机）“聊天”（输入命令）。
*   **动手实践**：能在电脑上连出第一根网线，配通第一个IP地址。

---

## 二、 核心知识点与操作详解

### 1. 磨刀不误砍柴工：eNSP模拟器详解
> **通俗解释**：eNSP就像是一个“网络设备的乐高沙盒”。在现实中买路由器和交换机很贵，而且接错线可能把设备烧坏。在这里，你可以免费无限使用设备，随便连线，坏了重启就行。

#### 1.1 安装避坑指南 (关键！)
eNSP不仅仅是一个软件，它是一套组合拳。安装时必须严格按照顺序，或者直接使用“一键安装包”里的默认勾选。
1.  **WinPcap**：它是“抓包”的基础，帮你的电脑截获网络数据。
2.  **Wireshark**：网络世界的“显微镜”，用来把数据包切开看里面的内容。
3.  **VirtualBox**：**最核心的组件**。eNSP里的路由器其实是运行在VirtualBox里的虚拟机。
    *   *注意*：eNSP通常对VirtualBox 5.2.x 版本兼容性最好，最新版可能会导致启动失败（代码40错误）。
4.  **eNSP主程序**：最后安装。

#### 1.2 认识界面
*   **左侧设备栏**：
    *   **Router (路由器)**：圆柱形图标。负责跨网段通信，类似“邮局快递员”，帮你在不同网络间指路。推荐型号：`AR2220`。
    *   **Switch (交换机)**：方块图标。负责组建局域网，类似“排插”，把多台电脑连在一起。推荐型号：`S5700` 或 `S3700`。
    *   **PC (终端)**：电脑、手机等上网设备。
*   **顶部工具栏**：
    *   `启动设备` (绿色播放键)：把拖出来的设备通电。
    *   `CLI` (控制台)：打开黑色的命令行窗口，开始敲代码。

---

### 2. 手把手教你连线
> **物理常识**：
> *   **双绞线 (Copper)**：家里常见的网线。
> *   **光纤 (Fiber)**：速度快，用于远距离。
> *   **串口线 (Serial)**：一种古老的红色线，现在主要用于特定的广域网连接。

**新手操作建议**：
1.  点击工具栏的 `Auto` (闪电图标)，这是“自动连线模式”。
2.  先点一下路由器，再点一下PC，软件会自动帮你选对线缆。
3.  *进阶知识*：同类设备相连（如路由连路由）理论上用交叉线，异类设备（如路由连交换机）用直通线。现在的设备都很智能，能自动识别，但在eNSP里手动选 `Copper` 最稳妥。

---

### 3. VRP操作系统：与设备对话的艺术
> **什么是VRP？**
> 华为通用的路由平台 (Versatile Routing Platform)。其实就像电脑装了Windows，苹果手机装了iOS，华为的网络设备装的就是VRP系统。我们通过命令行（CLI）来控制它。

#### 3.1 极其重要的“视图”概念 (View)
VRP把权限分成了不同的“房间”（视图），在不同的房间只能做特定的事。

| 视图名称 | 提示符特征 | 权限比喻 | 能做的事 | 如何进入/退出 |
| :--- | :--- | :--- | :--- | :--- |
| **用户视图** | `<Huawei>` | **大厅** (访客) | 只能看，不能改。能查看时间、查看版本，但不能修改配置。 | 默认就在这里。 |
| **系统视图** | `[Huawei]` | **控制中心** (管理员) | 拥有最高权限，可以修改设备名字、创建用户等全局设置。 | 输入 `system-view` 进入。<br>输入 `quit` 退出。 |
| **接口视图** | `[Huawei-GE0/0/0]` | **特定的某个房间** | 专门针对这一个网口进行配置（如配IP地址）。 | 在系统视图下输入 `interface ...` 进入。<br>输入 `quit` 退回系统视图。 |

#### 3.2 必须掌握的5个快捷键
1.  **Tab键**：**补全命令**。
    *   比如你想输 `system-view`，只需输 `sys` 然后按 `Tab`，系统自动补全。**这是高手的标志，千万别傻傻地把单词打完，容易拼错！**
2.  **? (问号)**：**求助**。
    *   忘记命令了？输个 `?`，系统会列出当前能用的所有命令。
    *   `sys?` 会列出所有以sys开头的命令。
3.  **上/下方向键**：**翻历史记录**。
    *   不想重复打上一条命令，按“上”键就出来了。
4.  **Ctrl + Z**：**一键回城**。
    *   不管你在多深层的视图，直接回到用户视图 `<Huawei>`。
5.  **Ctrl + C**：**打断**。
    *   如果命令输出太长不想看了，或者Ping停不下来，按这个强制停止。

---

### 4. 实战：配置你的第一台路由器
**任务目标**：给路由器的一个接口配置身份证号（IP地址）。

#### 步骤1：改个名字
默认名字叫Huawei，容易搞混。
```shell
<Huawei> system-view             # 从大厅进入控制中心
[Huawei] sysname R1              # 给设备改名叫 R1
[R1]                             # 提示符变了，说明修改成功
```

#### 步骤2：进入接口
我们要配置 `GigabitEthernet 0/0/0` 接口（通常简写为 GE0/0/0）。
```shell
[R1] interface GigabitEthernet 0/0/0   # 敲 int g0/0/0 然后按Tab补全
[R1-GigabitEthernet0/0/0]              # 提示符变长了，说明进来了
```

#### 步骤3：配置IP地址
IP地址是网络设备的“门牌号”，必须配置才能通信。
```shell
[R1-GigabitEthernet0/0/0] ip address 192.168.1.1 24
```
*   `192.168.1.1`：IP地址。
*   `24`：子网掩码的简写（代表 255.255.255.0）。**新手切记：配IP必须带掩码，否则报错。**

#### 步骤4：检查配置 (验证)
配置完了，怎么知道成没成功？
```shell
[R1-GigabitEthernet0/0/0] quit       # 退出到系统视图
[R1] display ip interface brief      # 意思是“显示 IP 接口 简报”
```
*   **display**：查看命令的核心词。
*   看输出结果：如果 `Physical` 和 `Protocol` 两列都显示 `Up`，说明接口通了！

#### 步骤5：保存配置 (存盘)
路由器就像游戏机，断电（重启）后如果不保存，刚才敲的命令就全没了。
```shell
[R1] return (或者按Ctrl+Z)      # 回到用户视图 <R1>，注意保存只能在用户视图做
<R1> save
# 系统会问你确认吗？输入 y 然后回车。
```

---

## 三、 新手常见报错速查

1.  **Error: Unrecognized command found at '^' position.**
    *   **人话**：命令输错了，我不认识。
    *   **原因**：拼写错误，或者在错误的视图用了错误的命令（比如在用户视图 `< >` 里尝试改名字）。
2.  **Error: Incomplete command found at '^' position.**
    *   **人话**：话没说完。
    *   **原因**：参数不够。比如输了 `ip address 192.168.1.1` 后面没加掩码 `24`。
3.  **eNSP里的设备一直显示 #### 启动不起来**
    *   **原因**：通常是防火墙拦截了，或者VirtualBox版本不对。尝试在Windows防火墙里允许eNSP和VBox的所有程序通过。