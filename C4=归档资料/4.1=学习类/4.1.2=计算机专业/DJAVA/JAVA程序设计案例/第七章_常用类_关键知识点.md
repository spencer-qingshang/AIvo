# 第七章：常用类 - 必备关键知识点

本章主要涵盖 Java 中一些非常基础且常用的类，包括 `Object` 类、`String` 类、随机数生成、基本类型包装类和日期时间类。

---

## 1. `Object` 类 (所有类的父类)

*   **概念**：`java.lang.Object` 是 Java **类层次结构的根类**，所有类都直接或间接继承它。
*   **常用方法**：
    *   `public String toString()`：返回对象的字符串表示形式。
        *   **默认行为**：输出 `类名@哈希值`。
        *   **重写目的**：为了返回对象的**属性值**，方便打印调试。
    *   `public boolean equals(Object obj)`：指示其他对象是否与此对象“相等”。
        *   **默认行为**：等同于 `==`，比较**内存地址**。
        *   **重写目的**：将“地址比较”改为**“内容比较”**（如身份证号相同则认为是同一人）。

---

## 2. 字符串类 (`String`, `StringBuffer`)

*   **`String` 类 (`java.lang.String`)**：
    *   **核心特性**：**不可变性 (Immutable)**。一旦创建，其内容不能被改变。任何修改操作都会创建新的 `String` 对象。
    *   **定义方式**：
        *   直接赋值（推荐）：`String s = "Hello";` (利用字符串常量池)。
        *   构造方法：`String s = new String("Hello");` (强制在堆内存创建新对象)。
    *   **常用方法**：`length()`, `equals()`, `charAt()`, `substring()`, `indexOf()`, `split()`, `trim()`.
*   **`StringBuffer` 类 (`java.lang.StringBuffer`)**：
    *   **核心特性**：**可变性 (Mutable)**。专门用于频繁拼接或修改字符串，在**同一个内存地址**上修改，效率高。
    *   **线程安全**：是线程安全的。
    *   **常用方法**：`append()`, `insert()`, `reverse()`, `toString()`.
*   **`String` 与 `StringBuffer` 差异 (必记)**：
    *   **可变性**：`String` 不可变，`StringBuffer` 可变。
    *   **效率**：频繁拼接时，`StringBuffer` 效率远高于 `String`。
    *   **线程安全**：`String` 是线程安全的（不可变本身就安全），`StringBuffer` 线程安全。
    *   **`StringBuilder`**：与 `StringBuffer` 类似，但**非线程安全**，单线程环境下效率更高。

---

## 3. 随机数生成

*   **`Math.random()` 方法 (`java.lang.Math`)**：
    *   **所属**：`java.lang.Math` 类（无需导包）。
    *   **作用**：生成 `double` 类型的伪随机数。
    *   **范围 (必记)**：`[0.0, 1.0)` （大于等于0.0，严格小于1.0）。
    *   **生成指定范围整数公式**：`(int)(Math.random() * (max - min + 1) + min)`。
*   **`Random` 类 (`java.util.Random`)**：
    *   **所属**：`java.util.Random` 类（需导包）。
    *   **作用**：专门生成各种类型随机数的类（`int`, `boolean`, `double` 等）。
    *   **核心方法**：`nextInt(int n)`：生成 `[0, n)` 之间的整数。

---

## 4. 基本类型包装类

*   **概念**：Java 为8种基本数据类型提供了对应的**引用类型**，使其具有对象特性，方便存入集合。
*   **8种基本类型及其包装类 (必记)**：
    *   `byte` -> `Byte`
    *   `short` -> `Short`
    *   `int` -> `Integer` (记住全拼)
    *   `long` -> `Long`
    *   `float` -> `Float`
    *   `double` -> `Double`
    *   `char` -> `Character` (记住全拼)
    *   `boolean` -> `Boolean`
*   **装箱 (Autoboxing)**：基本类型自动转换为包装类对象（`Integer i = 10;`）。
*   **拆箱 (Unboxing)**：包装类对象自动转换为基本类型（`int a = i;`）。
*   **字符串与基本类型转换**：
    *   `String` 转 基本类型：`Integer.parseInt("123")`，`Double.parseDouble("3.14")`。
    *   基本类型转 `String`：`String.valueOf(123)`，`123 + ""`。

---

## 5. 日期时间类 (`Date`, `Calendar`)

*   **`java.util.Date`**：
    *   **作用**：表示特定的瞬间，精确到毫秒。
    *   **本质**：包装了一个 `long` 类型的时间戳（距离1970年1月1日00:00:00 GMT的毫秒数）。
    *   **创建**：`Date now = new Date();` (当前时间)。
*   **`java.util.Calendar`**：
    *   **作用**：日历类，用于获取或操作日期时间的不同部分（年、月、日、时、分、秒、星期等）。
    *   **特点**：抽象类，不能直接 `new`。
    *   **创建**：`Calendar c = Calendar.getInstance();` (获取当前日期时间的实例)。
    *   **常用方法**：`get(field)` (获取字段值)，`set(field, value)` (设置字段值)。
    *   **注意**：`Calendar` 中的月份是从 `0` 开始的（`0`代表1月）。

---
