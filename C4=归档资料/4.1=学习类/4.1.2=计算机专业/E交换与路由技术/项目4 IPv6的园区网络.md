1. IPv6地址的基本配置

**识记：IPv6地址的优势；IPv6地址的报头结构。**
*   **IPv6地址的优势**：
    1.  **近乎无限的地址空间**：从32位增加到128位，彻底解决了IPv4地址枯竭的问题。
    2.  **更精简的报头**：去掉了IPv4报头中不必要的字段，提高了路由器的处理效率。
    3.  **内生安全性**：设计之初就考虑了安全，支持IPsec加密。
    4.  **即插即用 (SLAAC)**：电脑联网后可以自动生成IPv6地址，不需要DHCP服务器也能上网。
    5.  **更好的QoS支持**：新增了流标签字段，更方便处理语音、视频等实时流量。
*   **IPv6报头结构**：采用40字节的固定长度。包含版本、流量类别、流标签、有效载荷长度、下一个报头、跳数限制、源地址和目的地址。

**领会：IPv6与IPv4相比：地址长度、报文格式、安全性方面的区别；IPv6地址的记录格式。**
*   **对比区别**：
    *   **地址长度**：IPv4是32位（约43亿个），IPv6是128位（多到可以给地球上每颗沙子分IP）。
    *   **报文格式**：IPv4报头长20-60字节且不固定，IPv6固定为40字节。IPv6取消了报头校验和，交给更高层处理，提升了速度。
    *   **安全性**：IPv4安全是后来“补”上去的，IPv6是原生支持IPsec加密。
*   **IPv6记录格式**：
    *   采用 **十六进制** 表示，分为8组，每组4位。例如：`2001:0db8:85a3:0000:0000:8a2e:0370:7334`。
    *   **压缩规则**：
        1. 每组前面的`0`可以省略（如 `0db8` 写成 `db8`）。
        2. 全是`0`的一组可以写成一个`0`。
        3. 连续的全0组可以用 `::` 代替，但一个地址只能用一次 `::`。

**应用：在路由器不同端口间进行IPv6地址的配置。**
*   华为设备命令核心：
    1. 全局开启：`ipv6`
    2. 进入接口：`ipv6 enable`
    3. 配置地址：`ipv6 address 2001::1 64`


2. 使用IPv6静态路由及默认路由实现网络连通

**识记：IPv6地址结构；IPv6地址类型；IPv6路由。**
*   **IPv6地址结构**：前缀（网络部分）+ 接口标识（主机部分）。通常前缀长度为64位。
*   **IPv6地址类型**：
    1.  **单播 (Unicast)**：一对一通信。包含全球单播地址（2001::开头，相当于公网IP）和链路本地地址（FE80::开头，仅在本地链路有效）。
    2.  **组播 (Multicast)**：一对多通信。FF::开头。
    3.  **任播 (Anycast)**：一对一组中的最近者通信。
    *   *注意：IPv6取消了广播，用组播代替。*
*   **IPv6路由**：指导IPv6报文转发的表项，包含目的前缀、优先级、开销、下一跳和出接口。

**领会：IPv6路由与IPv4路由的区别。**
*   **路由表大小**：IPv6地址长，路由条目占用的空间比IPv4大。
*   **邻居发现 (NDP)**：IPv6使用NDP协议替代了IPv4的ARP来解析MAC地址。
*   **下一跳地址**：在IPv6静态路由中，下一跳通常建议使用对端的 **链路本地地址 (FE80::)**，因为这样即使全球地址变了，路由依然稳定。

**应用：正确配置IPv6静态路由；正确配置IPv6默认路由；正确配置 IPv6汇总路由；能描述IPv6各类地址表达方式。**
*   **静态路由**：`ipv6 route-static 2001:2:: 64 2001:12::2` (去2网段，走12::2这扇门)。
*   **默认路由**：`ipv6 route-static :: 0 2001:12::2` (`:: 0` 代表所有目的地)。
*   **汇总路由**：将多个连续的子网合并为一个更大的网段，减少路由表规模。
*   **地址表达方式**：首选格式（全写）、压缩格式（省0）、内嵌IPv4格式。


3. 使用动态路由RIPng协议实现网络连通

**识记：RIPng；RIPng工作机制；RIPng报文格式。**
*   **RIPng**：RIP协议在IPv6环境下的升级版（Next Generation）。
*   **RIPng工作机制**：
    1.  **距离矢量**：以跳数作为唯一度量值（最大15跳，16跳不可达）。
    2.  **UDP传输**：使用UDP端口 521。
    3.  **组播更新**：目的地为组播地址 `FF02::9`。
*   **RIPng报文格式**：由命令字段、版本号和多个RTE（路由项实体）组成。

**领会：掌握RIPng与RIPv2的区别；能区分RIPng与RIPv2配置命令的区别。**
*   **主要区别**：
    *   **地址族**：RIPv2跑在IPv4上，RIPng跑在IPv6上。
    *   **下一跳**：RIPng使用对端的链路本地地址作为下一跳。
    *   **启用方式**：RIPv2是在全局`network`宣告，**RIPng是在接口下直接使能**。
*   **命令区别**：
    *   RIPng配置：先全局进程 `ripng 1`，再进接口 `ripng 1 enable`。

4. 使用动态路由OSPFv3协议实现网络连通

**识记：OSPFv3基本概念；OSPFv3的报文；OSPFv3的LSA类型；OSPFv3的定时器。**
*   **OSPFv3基本概念**：基于链路状态的协议。运行在IPv6上，独立于网络层地址。
*   **OSPFv3报文**：Hello、DD、LSR、LSU、LSAck（与v2类似，但报文头有细微变化）。
*   **LSA类型 (核心变化)**：
    *   1类和2类LSA：不再包含IP地址信息，只描述拓扑结构。
    *   **8类 LSA (Link-LSA)**：宣告接口的链路本地地址。
    *   **9类 LSA (Intra-Area-Prefix-LSA)**：宣告区域内的网段前缀。
*   **OSPFv3定时器**：Hello时间（默认10s）、Dead时间（默认40s）。

**领会：OSPFv3与OSFP的区别。**
*   **Router ID**：OSPFv3依然使用一个32位的数字（类似IPv4地址格式）作为Router ID，必须手动配置。
*   **认证方式**：OSPFv3删除了协议自身的认证，直接调用IPv6的IPsec安全机制。
*   **多实例**：OSPFv3支持在同一条链路上运行多个实例（Instance ID）。

**应用：能正确配置OSPFv3路由协议；能灵活使用OSPFv3实现网络连通。**
*   **配置核心**：
    1. 配置 Router ID。
    2. 全局开启 OSPFv3 进程。
    3. **进接口绑定区域**：`ospfv3 1 area 0`。