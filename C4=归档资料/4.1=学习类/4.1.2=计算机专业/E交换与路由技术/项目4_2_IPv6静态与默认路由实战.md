# 项目4_2：IPv6静态与默认路由实战 (小白保姆级教程)

> **实验目标**：在两个路由器之间配置 IPv6 静态路由，让两个不同网段的电脑能够互通。
> **场景模拟**：北京办公室（PC1）要联系广州办公室（PC2）。

---

## 一、 生活化比喻：老司机的“手动路标”

IPv6 路由和 IPv4 路由的逻辑是一模一样的，只是“路标”上的地址变长了。
*   **静态路由**：就像你在十字路口立个牌子，上面写着：“要去 2001:2:: 网段的，请往前走，找 2001:12::2 这台路由器。”
*   **默认路由**：就像你在门口立个牌子，上面写着：“除了本地办公室的，剩下的所有邮件统统交给 2001:12::2 处理。”

---

## 二、 核心配置步骤

### 1. 搭建环境
*   **R1** (GE 0/0/0) <---> **R2** (GE 0/0/0)
*   **网段规划**：R1-R2 之间使用 `2001:12::/64` 网段。
    *   R1 接口：`2001:12::1`
    *   R2 接口：`2001:12::2`
*   **业务网段**：
    *   R1 后面的 PC1：`2001:1::/64`
    *   R2 后面的 PC2：`2001:2::/64`

### 2. R1 配置静态路由
R1 现在只知道 1网段和12网段。它不知道 2网段在哪，我们要告诉它。
```shell
<R1> system-view
[R1] ipv6 route-static 2001:2:: 64 2001:12::2
# 【逐词拆解】：
# ipv6 route-static：我要配静态路由了
# 2001:2::：目的地的“街道名”（网段）
# 64：前缀长度
# 2001:12::2：下一跳。也就是你把包裹交给谁（邻居 R2 的地址）。
```

### 3. R2 配置静态路由 (别忘了回程！)
回程路由非常重要。如果只有去路没有回路，Ping 包发得出去却回不来。
```shell
<R2> system-view
[R2] ipv6 route-static 2001:1:: 64 2001:12::1
```

### 4. 默认路由 (选做/替代方案)
如果 R1 只需要把所有流量都给 R2，可以这么写：
```shell
[R1] ipv6 route-static :: 0 2001:12::2
# 【拆解】：:: 0 代表“所有地方”，相当于 IPv4 里的 0.0.0.0 0。
```

---

## 三、 避坑必杀技 (新手必看)

1.  **“下一跳”写成了自己**：
    *   新手常犯：在 R1 上配路由，下一跳写成了 R1 自己的 IP。
    *   **记住**：下一跳必须是**邻居**的 IP。你自己又不知道路，怎么指给自己呢？
2.  **忘记双向配置**：
    *   Ping 是双向的。单向通了不叫通，必须两边都有路标。
3.  **前缀长度漏掉**：
    *   `64` 这个数字不能漏，它告诉路由器这个网段到底有多大。

---

## 四、 实验自测 (检查方法)

在 R1 命令行输入：
`display ipv6 routing-table`

*   **预期结果**：
    *   你应该能在列表里看到一列 `Protocol` 是 **Static**。
    *   对应的 `Destination` 是 `2001:2::`。
    *   这说明路由表已经成功记录了这条“手动路标”。
*   **最终测试**：
    *   用 PC1 Ping PC2 的 IPv6 地址，应该能通！

---

## 五、 总结 (笔记)
*   配置命令：`ipv6 route-static [目标网段] [长度] [下一跳]`。
*   默认路由：`:: 0` 代表所有目的地。
*   路由是单向的，**互通必须配双向**。
