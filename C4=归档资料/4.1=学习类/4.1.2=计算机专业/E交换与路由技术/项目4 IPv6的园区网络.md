1. IPv6åœ°å€çš„åŸºæœ¬é…ç½®

**è¯†è®°ï¼šIPv6åœ°å€çš„ä¼˜åŠ¿ï¼›IPv6åœ°å€çš„æŠ¥å¤´ç»“æ„ã€‚**
*   **IPv6åœ°å€çš„ä¼˜åŠ¿**ï¼š
    1.  **è¿‘ä¹æ— é™çš„åœ°å€ç©ºé—´**ï¼šä»32ä½å¢åŠ åˆ°128ä½ï¼Œå½»åº•è§£å†³äº†IPv4åœ°å€æ¯ç«­çš„é—®é¢˜ã€‚
    2.  **æ›´ç²¾ç®€çš„æŠ¥å¤´**ï¼šå»æ‰äº†IPv4æŠ¥å¤´ä¸­ä¸å¿…è¦çš„å­—æ®µï¼Œæé«˜äº†è·¯ç”±å™¨çš„å¤„ç†æ•ˆç‡ã€‚
    3.  **å†…ç”Ÿå®‰å…¨æ€§**ï¼šè®¾è®¡ä¹‹åˆå°±è€ƒè™‘äº†å®‰å…¨ï¼Œæ”¯æŒIPsecåŠ å¯†ã€‚
    4.  **å³æ’å³ç”¨ (SLAAC)**ï¼šç”µè„‘è”ç½‘åå¯ä»¥è‡ªåŠ¨ç”ŸæˆIPv6åœ°å€ï¼Œä¸éœ€è¦DHCPæœåŠ¡å™¨ä¹Ÿèƒ½ä¸Šç½‘ã€‚
    5.  **æ›´å¥½çš„QoSæ”¯æŒ**ï¼šæ–°å¢äº†æµæ ‡ç­¾å­—æ®µï¼Œæ›´æ–¹ä¾¿å¤„ç†è¯­éŸ³ã€è§†é¢‘ç­‰å®æ—¶æµé‡ã€‚
*   **IPv6æŠ¥å¤´ç»“æ„**ï¼šé‡‡ç”¨40å­—èŠ‚çš„å›ºå®šé•¿åº¦ã€‚åŒ…å«ç‰ˆæœ¬ã€æµé‡ç±»åˆ«ã€æµæ ‡ç­¾ã€æœ‰æ•ˆè½½è·é•¿åº¦ã€ä¸‹ä¸€ä¸ªæŠ¥å¤´ã€è·³æ•°é™åˆ¶ã€æºåœ°å€å’Œç›®çš„åœ°å€ã€‚

**é¢†ä¼šï¼šIPv6ä¸IPv4ç›¸æ¯”ï¼šåœ°å€é•¿åº¦ã€æŠ¥æ–‡æ ¼å¼ã€å®‰å…¨æ€§æ–¹é¢çš„åŒºåˆ«ï¼›IPv6åœ°å€çš„è®°å½•æ ¼å¼ã€‚**
*   **å¯¹æ¯”åŒºåˆ«**ï¼š
    *   **åœ°å€é•¿åº¦**ï¼šIPv4æ˜¯32ä½ï¼ˆçº¦43äº¿ä¸ªï¼‰ï¼ŒIPv6æ˜¯128ä½ï¼ˆå¤šåˆ°å¯ä»¥ç»™åœ°çƒä¸Šæ¯é¢—æ²™å­åˆ†IPï¼‰ã€‚
    *   **æŠ¥æ–‡æ ¼å¼**ï¼šIPv4æŠ¥å¤´é•¿20-60å­—èŠ‚ä¸”ä¸å›ºå®šï¼ŒIPv6å›ºå®šä¸º40å­—èŠ‚ã€‚IPv6å–æ¶ˆäº†æŠ¥å¤´æ ¡éªŒå’Œï¼Œäº¤ç»™æ›´é«˜å±‚å¤„ç†ï¼Œæå‡äº†é€Ÿåº¦ã€‚
    *   **å®‰å…¨æ€§**ï¼šIPv4å®‰å…¨æ˜¯åæ¥â€œè¡¥â€ä¸Šå»çš„ï¼ŒIPv6æ˜¯åŸç”Ÿæ”¯æŒIPsecåŠ å¯†ã€‚
*   **IPv6è®°å½•æ ¼å¼**ï¼š
    *   é‡‡ç”¨ **åå…­è¿›åˆ¶** è¡¨ç¤ºï¼Œåˆ†ä¸º8ç»„ï¼Œæ¯ç»„4ä½ã€‚ä¾‹å¦‚ï¼š`2001:0db8:85a3:0000:0000:8a2e:0370:7334`ã€‚
    *   **å‹ç¼©è§„åˆ™**ï¼š
        1. æ¯ç»„å‰é¢çš„`0`å¯ä»¥çœç•¥ï¼ˆå¦‚ `0db8` å†™æˆ `db8`ï¼‰ã€‚
        2. å…¨æ˜¯`0`çš„ä¸€ç»„å¯ä»¥å†™æˆä¸€ä¸ª`0`ã€‚
        3. è¿ç»­çš„å…¨0ç»„å¯ä»¥ç”¨ `::` ä»£æ›¿ï¼Œä½†ä¸€ä¸ªåœ°å€åªèƒ½ç”¨ä¸€æ¬¡ `::`ã€‚

**åº”ç”¨ï¼šåœ¨è·¯ç”±å™¨ä¸åŒç«¯å£é—´è¿›è¡ŒIPv6åœ°å€çš„é…ç½®ã€‚**
*   åä¸ºè®¾å¤‡å‘½ä»¤æ ¸å¿ƒï¼š
    1. å…¨å±€å¼€å¯ï¼š`ipv6`
    2. è¿›å…¥æ¥å£ï¼š`ipv6 enable`
    3. é…ç½®åœ°å€ï¼š`ipv6 address 2001::1 64`


2. ä½¿ç”¨IPv6é™æ€è·¯ç”±åŠé»˜è®¤è·¯ç”±å®ç°ç½‘ç»œè¿é€š

**è¯†è®°ï¼šIPv6åœ°å€ç»“æ„ï¼›IPv6åœ°å€ç±»å‹ï¼›IPv6è·¯ç”±ã€‚**
*   **IPv6åœ°å€ç»“æ„**ï¼šå‰ç¼€ï¼ˆç½‘ç»œéƒ¨åˆ†ï¼‰+ æ¥å£æ ‡è¯†ï¼ˆä¸»æœºéƒ¨åˆ†ï¼‰ã€‚é€šå¸¸å‰ç¼€é•¿åº¦ä¸º64ä½ã€‚
*   **IPv6åœ°å€ç±»å‹**ï¼š
    1.  **å•æ’­ (Unicast)**ï¼šä¸€å¯¹ä¸€é€šä¿¡ã€‚åŒ…å«å…¨çƒå•æ’­åœ°å€ï¼ˆ2001::å¼€å¤´ï¼Œç›¸å½“äºå…¬ç½‘IPï¼‰å’Œé“¾è·¯æœ¬åœ°åœ°å€ï¼ˆFE80::å¼€å¤´ï¼Œä»…åœ¨æœ¬åœ°é“¾è·¯æœ‰æ•ˆï¼‰ã€‚
    2.  **ç»„æ’­ (Multicast)**ï¼šä¸€å¯¹å¤šé€šä¿¡ã€‚FF::å¼€å¤´ã€‚
    3.  **ä»»æ’­ (Anycast)**ï¼šä¸€å¯¹ä¸€ç»„ä¸­çš„æœ€è¿‘è€…é€šä¿¡ã€‚
    *   *æ³¨æ„ï¼šIPv6å–æ¶ˆäº†å¹¿æ’­ï¼Œç”¨ç»„æ’­ä»£æ›¿ã€‚*
*   **IPv6è·¯ç”±**ï¼šæŒ‡å¯¼IPv6æŠ¥æ–‡è½¬å‘çš„è¡¨é¡¹ï¼ŒåŒ…å«ç›®çš„å‰ç¼€ã€ä¼˜å…ˆçº§ã€å¼€é”€ã€ä¸‹ä¸€è·³å’Œå‡ºæ¥å£ã€‚

**é¢†ä¼šï¼šIPv6è·¯ç”±ä¸IPv4è·¯ç”±çš„åŒºåˆ«ã€‚**
*   **è·¯ç”±è¡¨å¤§å°**ï¼šIPv6åœ°å€é•¿ï¼Œè·¯ç”±æ¡ç›®å ç”¨çš„ç©ºé—´æ¯”IPv4å¤§ã€‚
*   **é‚»å±…å‘ç° (NDP)**ï¼šIPv6ä½¿ç”¨NDPåè®®æ›¿ä»£äº†IPv4çš„ARPæ¥è§£æMACåœ°å€ã€‚
*   **ä¸‹ä¸€è·³åœ°å€**ï¼šåœ¨IPv6é™æ€è·¯ç”±ä¸­ï¼Œä¸‹ä¸€è·³é€šå¸¸å»ºè®®ä½¿ç”¨å¯¹ç«¯çš„ **é“¾è·¯æœ¬åœ°åœ°å€ (FE80::)**ï¼Œå› ä¸ºè¿™æ ·å³ä½¿å…¨çƒåœ°å€å˜äº†ï¼Œè·¯ç”±ä¾ç„¶ç¨³å®šã€‚

**åº”ç”¨ï¼šæ­£ç¡®é…ç½®IPv6é™æ€è·¯ç”±ï¼›æ­£ç¡®é…ç½®IPv6é»˜è®¤è·¯ç”±ï¼›æ­£ç¡®é…ç½® IPv6æ±‡æ€»è·¯ç”±ï¼›èƒ½æè¿°IPv6å„ç±»åœ°å€è¡¨è¾¾æ–¹å¼ã€‚**
*   **é™æ€è·¯ç”±**ï¼š`ipv6 route-static 2001:2:: 64 2001:12::2` (å»2ç½‘æ®µï¼Œèµ°12::2è¿™æ‰‡é—¨)ã€‚
*   **é»˜è®¤è·¯ç”±**ï¼š`ipv6 route-static :: 0 2001:12::2` (`:: 0` ä»£è¡¨æ‰€æœ‰ç›®çš„åœ°)ã€‚
*   **æ±‡æ€»è·¯ç”±**ï¼šå°†å¤šä¸ªè¿ç»­çš„å­ç½‘åˆå¹¶ä¸ºä¸€ä¸ªæ›´å¤§çš„ç½‘æ®µï¼Œå‡å°‘è·¯ç”±è¡¨è§„æ¨¡ã€‚
*   **åœ°å€è¡¨è¾¾æ–¹å¼**ï¼šé¦–é€‰æ ¼å¼ï¼ˆå…¨å†™ï¼‰ã€å‹ç¼©æ ¼å¼ï¼ˆçœ0ï¼‰ã€å†…åµŒIPv4æ ¼å¼ã€‚


3. ä½¿ç”¨åŠ¨æ€è·¯ç”±RIPngåè®®å®ç°ç½‘ç»œè¿é€š

**è¯†è®°ï¼šRIPngï¼›RIPngå·¥ä½œæœºåˆ¶ï¼›RIPngæŠ¥æ–‡æ ¼å¼ã€‚**
*   **RIPng**ï¼šRIPåè®®åœ¨IPv6ç¯å¢ƒä¸‹çš„å‡çº§ç‰ˆï¼ˆNext Generationï¼‰ã€‚
*   **RIPngå·¥ä½œæœºåˆ¶**ï¼š
    1.  **è·ç¦»çŸ¢é‡**ï¼šä»¥è·³æ•°ä½œä¸ºå”¯ä¸€åº¦é‡å€¼ï¼ˆæœ€å¤§15è·³ï¼Œ16è·³ä¸å¯è¾¾ï¼‰ã€‚
    2.  **UDPä¼ è¾“**ï¼šä½¿ç”¨UDPç«¯å£ 521ã€‚
    3.  **ç»„æ’­æ›´æ–°**ï¼šç›®çš„åœ°ä¸ºç»„æ’­åœ°å€ `FF02::9`ã€‚
*   **RIPngæŠ¥æ–‡æ ¼å¼**ï¼šç”±å‘½ä»¤å­—æ®µã€ç‰ˆæœ¬å·å’Œå¤šä¸ªRTEï¼ˆè·¯ç”±é¡¹å®ä½“ï¼‰ç»„æˆã€‚

**é¢†ä¼šï¼šæŒæ¡RIPngä¸RIPv2çš„åŒºåˆ«ï¼›èƒ½åŒºåˆ†RIPngä¸RIPv2é…ç½®å‘½ä»¤çš„åŒºåˆ«ã€‚**
*   **ä¸»è¦åŒºåˆ«**ï¼š
    *   **åœ°å€æ—**ï¼šRIPv2è·‘åœ¨IPv4ä¸Šï¼ŒRIPngè·‘åœ¨IPv6ä¸Šã€‚
    *   **ä¸‹ä¸€è·³**ï¼šRIPngä½¿ç”¨å¯¹ç«¯çš„é“¾è·¯æœ¬åœ°åœ°å€ä½œä¸ºä¸‹ä¸€è·³ã€‚
    *   **å¯ç”¨æ–¹å¼**ï¼šRIPv2æ˜¯åœ¨å…¨å±€`network`å®£å‘Šï¼Œ**RIPngæ˜¯åœ¨æ¥å£ä¸‹ç›´æ¥ä½¿èƒ½**ã€‚
*   **å‘½ä»¤åŒºåˆ«**ï¼š
    *   RIPngé…ç½®ï¼šå…ˆå…¨å±€è¿›ç¨‹ `ripng 1`ï¼Œå†è¿›æ¥å£ `ripng 1 enable`ã€‚

4. ä½¿ç”¨åŠ¨æ€è·¯ç”±OSPFv3åè®®å®ç°ç½‘ç»œè¿é€š

**è¯†è®°ï¼šOSPFv3åŸºæœ¬æ¦‚å¿µï¼›OSPFv3çš„æŠ¥æ–‡ï¼›OSPFv3çš„LSAç±»å‹ï¼›OSPFv3çš„å®šæ—¶å™¨ã€‚**
*   **OSPFv3åŸºæœ¬æ¦‚å¿µ**ï¼šåŸºäºé“¾è·¯çŠ¶æ€çš„åè®®ã€‚è¿è¡Œåœ¨IPv6ä¸Šï¼Œç‹¬ç«‹äºç½‘ç»œå±‚åœ°å€ã€‚
*   **OSPFv3æŠ¥æ–‡**ï¼šHelloã€DDã€LSRã€LSUã€LSAckï¼ˆä¸v2ç±»ä¼¼ï¼Œä½†æŠ¥æ–‡å¤´æœ‰ç»†å¾®å˜åŒ–ï¼‰ã€‚
*   **LSAç±»å‹ (æ ¸å¿ƒå˜åŒ–)**ï¼š
    *   1ç±»å’Œ2ç±»LSAï¼šä¸å†åŒ…å«IPåœ°å€ä¿¡æ¯ï¼Œåªæè¿°æ‹“æ‰‘ç»“æ„ã€‚
    *   **8ç±» LSA (Link-LSA)**ï¼šå®£å‘Šæ¥å£çš„é“¾è·¯æœ¬åœ°åœ°å€ã€‚
    *   **9ç±» LSA (Intra-Area-Prefix-LSA)**ï¼šå®£å‘ŠåŒºåŸŸå†…çš„ç½‘æ®µå‰ç¼€ã€‚
*   **OSPFv3å®šæ—¶å™¨**ï¼šHelloæ—¶é—´ï¼ˆé»˜è®¤10sï¼‰ã€Deadæ—¶é—´ï¼ˆé»˜è®¤40sï¼‰ã€‚

**é¢†ä¼šï¼šOSPFv3ä¸OSFPçš„åŒºåˆ«ã€‚**
*   **Router ID**ï¼šOSPFv3ä¾ç„¶ä½¿ç”¨ä¸€ä¸ª32ä½çš„æ•°å­—ï¼ˆç±»ä¼¼IPv4åœ°å€æ ¼å¼ï¼‰ä½œä¸ºRouter IDï¼Œå¿…é¡»æ‰‹åŠ¨é…ç½®ã€‚
*   **è®¤è¯æ–¹å¼**ï¼šOSPFv3åˆ é™¤äº†åè®®è‡ªèº«çš„è®¤è¯ï¼Œç›´æ¥è°ƒç”¨IPv6çš„IPsecå®‰å…¨æœºåˆ¶ã€‚
*   **å¤šå®ä¾‹**ï¼šOSPFv3æ”¯æŒåœ¨åŒä¸€æ¡é“¾è·¯ä¸Šè¿è¡Œå¤šä¸ªå®ä¾‹ï¼ˆInstance IDï¼‰ã€‚

**åº”ç”¨ï¼šèƒ½æ­£ç¡®é…ç½®OSPFv3è·¯ç”±åè®®ï¼›èƒ½çµæ´»ä½¿ç”¨OSPFv3å®ç°ç½‘ç»œè¿é€šã€‚**
*   **é…ç½®æ ¸å¿ƒ**ï¼š
    1. é…ç½® Router IDã€‚
    2. å…¨å±€å¼€å¯ OSPFv3 è¿›ç¨‹ã€‚
    3. **è¿›æ¥å£ç»‘å®šåŒºåŸŸ**ï¼š`ospfv3 1 area 0`ã€‚

5. IPv6å›­åŒºç½‘ç»œå®æˆ˜å…¨æµç¨‹ä¿å§†çº§æ‰‹å†Œ

> **å®éªŒè¯´æ˜**ï¼šæœ¬æ‰‹å†Œè¦†ç›–ä»åŸºç¡€IPé…ç½®åˆ°é™æ€è·¯ç”±ã€åŠ¨æ€è·¯ç”±ï¼ˆRIPng/OSPFv3ï¼‰çš„æ‰€æœ‰æ­¥éª¤ã€‚
> **æ ¸å¿ƒåŸåˆ™**ï¼š**ä¸è·³æ­¥ã€ä¸ç›²ç›®ã€å…ˆä¿å­˜ã€åéªŒè¯**ã€‚

### é˜¶æ®µä¸€ï¼šç‰©ç†æ­å»ºä¸åŸºç¡€å‡†å¤‡

#### 1. ç‰©ç†æ‹“æ‰‘æ­å»º
åœ¨ eNSP ä¸­æŒ‰é¡ºåºæ‘†æ”¾å¹¶è¿æ¥è®¾å¤‡ï¼Œ**ä¸è¦ä½¿ç”¨ Auto çº¿ç¼†**ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹© `Copper`ï¼ˆé»‘è‰²å®çº¿ï¼‰ï¼š

*   **R1 (AR2220)**ï¼šG0/0/1 è¿æ¥ **PC1**ï¼›G0/0/0 è¿æ¥ **R2**ã€‚
*   **R2 (AR2220)**ï¼šG0/0/0 è¿æ¥ **R1**ï¼›G0/0/1 è¿æ¥ **R3**ã€‚
*   **R3 (AR2220)**ï¼šG0/0/0 è¿æ¥ **R2**ï¼›G0/0/1 è¿æ¥ **PC2**ã€‚

> **ğŸ”” é¿å‘ç‚¹**ï¼šè¿çº¿å®Œæˆåï¼ŒåŠ¡å¿…æ¡†é€‰æ‰€æœ‰è®¾å¤‡ç‚¹å‡»â€œå¼€å¯â€ï¼Œç­‰æ¥å£åœ†ç‚¹å…¨éƒ¨å˜ç»¿ã€‚

### é˜¶æ®µäºŒï¼šIPv6 åŸºç¡€åœ°å€é…ç½®ï¼ˆæ‰“åœ°åŸºï¼‰

#### 1. è·¯ç”±å™¨ R1 é…ç½®
```shell
<Huawei> system-view
[Huawei] sysname R1
[R1] ipv6                                # ã€å¿…åšã€‘å…¨å±€å¼€å¯IPv6æ€»å¼€å…³
[R1] interface GigabitEthernet 0/0/1      # è¿›å…¥è¿æ¥PC1çš„æ¥å£
[R1-GigabitEthernet0/0/1] ipv6 enable    # ã€å¿…åšã€‘æ¥å£å¼€å¯IPv6
[R1-GigabitEthernet0/0/1] ipv6 address 2001:1::254 64 # é…ç½®å…¨çƒå•æ’­åœ°å€
[R1-GigabitEthernet0/0/1] quit

[R1] interface GigabitEthernet 0/0/0      # è¿›å…¥è¿æ¥R2çš„æ¥å£
[R1-GigabitEthernet0/0/0] ipv6 enable    # ã€å¿…åšã€‘æ¥å£å¼€å¯IPv6
[R1-GigabitEthernet0/0/0] ipv6 address 2001:12::1 64
[R1-GigabitEthernet0/0/0] quit
[R1] save                                # ã€å»ºè®®ã€‘éšæ‰‹ä¿å­˜é…ç½®
```

#### 2. è·¯ç”±å™¨ R2 é…ç½®
```shell
<Huawei> system-view
[Huawei] sysname R2
[R2] ipv6
[R2] interface GigabitEthernet 0/0/0
[R2-GigabitEthernet0/0/0] ipv6 enable
[R2-GigabitEthernet0/0/0] ipv6 address 2001:12::2 64
[R2-GigabitEthernet0/0/0] quit

[R2] interface GigabitEthernet 0/0/1
[R2-GigabitEthernet0/0/1] ipv6 enable
[R2-GigabitEthernet0/0/1] ipv6 address 2001:23::2 64
[R2-GigabitEthernet0/0/1] quit
```

#### 3. è·¯ç”±å™¨ R3 é…ç½®
```shell
<Huawei> system-view
[Huawei] sysname R3
[R3] ipv6
[R3] interface GigabitEthernet 0/0/0
[R3-GigabitEthernet0/0/0] ipv6 enable
[R3-GigabitEthernet0/0/0] ipv6 address 2001:23::3 64
[R3-GigabitEthernet0/0/0] quit

[R3] interface GigabitEthernet 0/0/1
[R3-GigabitEthernet0/0/1] ipv6 enable
[R3-GigabitEthernet0/0/1] ipv6 address 2001:2::254 64
[R3-GigabitEthernet0/0/1] quit
```

#### 4. PC ç«¯é…ç½®
*   **PC1**ï¼š
    *   IPv6åœ°å€ï¼š`2001:1::1`
    *   å‰ç¼€é•¿åº¦ï¼š`64`
    *   IPv6ç½‘å…³ï¼š`2001:1::254`
*   **PC2**ï¼š
    *   IPv6åœ°å€ï¼š`2001:2::1`
    *   å‰ç¼€é•¿åº¦ï¼š`64`
    *   IPv6ç½‘å…³ï¼š`2001:2::254`
*   **âš ï¸ åŠ¨ä½œ**ï¼šç‚¹å‡» PC é…ç½®ç•Œé¢çš„â€œåº”ç”¨â€æŒ‰é’®ï¼

#### ğŸ” æ£€æŸ¥ç‚¹ 1ï¼ˆå¿…é¡»æˆåŠŸï¼‰ï¼š
åœ¨ R1 ä¸Šè¾“å…¥ `display ipv6 interface brief`ï¼Œç¡®ä¿ç‰©ç†å£å’Œåè®®å£éƒ½æ˜¯ **Up**ã€‚
åœ¨ PC1 ä¸Š `ping 2001:1::254`ï¼Œå¦‚æœé€šäº†ï¼Œè¯´æ˜åŸºç¡€é…ç½®æ²¡é—®é¢˜ã€‚

### é˜¶æ®µä¸‰ï¼šIPv6 é™æ€è·¯ç”±é…ç½®ï¼ˆæ‰‹åŠ¨æŒ‡è·¯ï¼‰

> **ç›®æ ‡**ï¼šè®© PC1 èƒ½ ping é€š PC2ã€‚

#### 1. R1 é…ç½®ï¼ˆæŒ‡æ˜å»å¹¿å·çš„æ–¹å‘ï¼‰
```shell
[R1] ipv6 route-static 2001:2:: 64 2001:12::2
# å«ä¹‰ï¼šè¦å»2001:2::/64ç½‘æ®µï¼Œè¯·ä»G0/0/0å‡ºå»äº¤ç»™2001:12::2ï¼ˆR2ï¼‰
```

#### 2. R2 é…ç½®ï¼ˆä¸­é—´å•†ï¼ŒæŒ‡ä¸¤å¤´ï¼‰
```shell
[R2] ipv6 route-static 2001:1:: 64 2001:12::1  # å›åŒ—äº¬çš„æ–¹å‘
[R2] ipv6 route-static 2001:2:: 64 2001:23::3  # å»å¹¿å·çš„æ–¹å‘
```

#### 3. R3 é…ç½®ï¼ˆæŒ‡æ˜å›åŒ—äº¬çš„æ–¹å‘ï¼‰
```shell
[R3] ipv6 route-static 2001:1:: 64 2001:23::2
```

#### ğŸ” æ£€æŸ¥ç‚¹ 2ï¼ˆå¿…é¡»æˆåŠŸï¼‰ï¼š
åœ¨ PC1 ä¸Š `ping 2001:2::1`ã€‚å¦‚æœä¸é€šï¼Œ**æ£€æŸ¥ R3 æ˜¯å¦æ¼é…äº†å›ç¨‹è·¯ç”±**ã€‚

### é˜¶æ®µå››ï¼šåŠ¨æ€è·¯ç”± RIPng å®æˆ˜ï¼ˆè‡ªåŠ¨å¯»è·¯ 1ï¼‰

#### 0. æ¸…é™¤é™æ€è·¯ç”±ï¼ˆå®éªŒè¦æ±‚ï¼‰
ä¸ºäº†éªŒè¯åŠ¨æ€è·¯ç”±ï¼Œè¯·åœ¨ R1/R2/R3 ä¸Šæ‰§è¡Œ `undo ipv6 route-static ...` åˆ é™¤åˆšæ‰é…çš„è·¯ã€‚

#### 1. å…¨å±€ä¸æ¥å£é…ç½®ï¼ˆä»¥ R1 ä¸ºä¾‹ï¼ŒR2/R3 åŒç†ï¼‰
```shell
# R1
[R1] ripng 1                     # 1. å¼€å¯è¿›ç¨‹
[R1-ripng-1] quit
[R1] interface GigabitEthernet 0/0/0
[R1-GigabitEthernet0/0/0] ripng 1 enable   # 2. æ¥å£å¼€å¯ä½¿èƒ½
[R1] interface GigabitEthernet 0/0/1
[R1-GigabitEthernet0/0/1] ripng 1 enable

# R2/R3 é‡å¤ä¸Šè¿°æ“ä½œï¼š1.å…¨å±€å¯åŠ¨è¿›ç¨‹ 2.æ‰€æœ‰IPv6æ¥å£ä¸‹ä½¿èƒ½ripng 1
```

### é˜¶æ®µäº”ï¼šåŠ¨æ€è·¯ç”± OSPFv3 å®æˆ˜ï¼ˆä¼ä¸šçº§è‡ªåŠ¨å¯»è·¯ï¼‰

#### 0. æ¸…é™¤ RIPng é…ç½®
```shell
[R1] undo ripng 1
[R2] undo ripng 1
[R3] undo ripng 1
```

#### 1. R1 å…³é”®é…ç½®ï¼ˆæ³¨æ„ Router IDï¼‰
```shell
[R1] ospfv3 1                    # å¯åŠ¨è¿›ç¨‹
[R1-ospfv3-1] router-id 1.1.1.1  # ã€å¿…é…ã€‘èº«ä»½è¯å·ï¼Œä¸é…èµ·ä¸æ¥ï¼
[R1-ospfv3-1] quit
[R1] interface GigabitEthernet 0/0/0
[R1-GigabitEthernet0/0/0] ospfv3 1 area 0   # æ¥å£ç»‘å®šåŒºåŸŸ
[R1] interface GigabitEthernet 0/0/1
[R1-GigabitEthernet0/0/1] ospfv3 1 area 0
```

#### 2. R2/R3 å…³é”®é…ç½®
*   **R2**ï¼š`router-id 2.2.2.2`ï¼Œæ¥å£ä¸‹ `ospfv3 1 area 0`ã€‚
*   **R3**ï¼š`router-id 3.3.3.3`ï¼Œæ¥å£ä¸‹ `ospfv3 1 area 0`ã€‚

#### ğŸ” æœ€ç»ˆæ£€æŸ¥ç‚¹ï¼š
1.  åœ¨ R1 è¾“å…¥ `display ospfv3 peer`ï¼ŒçŠ¶æ€å¿…é¡»æ˜¾ç¤º **Full**ã€‚
2.  åœ¨ R1 è¾“å…¥ `display ipv6 routing-table protocol ospfv3`ï¼Œç¡®è®¤å­¦åˆ°äº† 2.0 ç½‘æ®µã€‚
3.  PC1 ping PC2 æˆåŠŸã€‚

### ğŸ’¡ æ€»ç»“ï¼šä¸ºä»€ä¹ˆä½ ä¼š ping ä¸é€šï¼Ÿï¼ˆæ’é”™ Checklistï¼‰

1.  **å¿˜å¼€æ€»å¼€å…³**ï¼šå…¨å±€æ¼äº† `ipv6` æˆ–è€…æ˜¯ `ospfv3 1`ã€‚
2.  **å¿˜æ¿€æ´»æ¥å£**ï¼šæ¥å£ä¸‹æ¼äº† `ipv6 enable`ã€‚
3.  **å¿˜äº†å›ç¨‹è·¯ç”±**ï¼šé™æ€è·¯ç”±åªé…äº†å»ç¨‹ï¼ŒPC2 å›ä¸æ¥ã€‚
4.  **å¿˜äº† Router-ID**ï¼šOSPFv3 å¦‚æœä¸æ‰‹åŠ¨é… Router IDï¼Œé‚»å±…æ°¸è¿œæ˜¯ Down çš„ã€‚
5.  **å¿˜äº†ä½¿èƒ½åŠ¨æ€åè®®**ï¼šåŠ¨æ€åè®®ï¼ˆRIPng/OSPFv3ï¼‰å¿…é¡»è¿›å…¥**æ¯ä¸ªæ¥å£**ï¼ˆåŒ…æ‹¬è¿ PC çš„é‚£ä¸ªç½‘å…³æ¥å£ï¼‰æ‰‹åŠ¨æ•² `enable` æˆ– `area 0`ã€‚
6.  **å¿˜äº†ç‚¹â€œåº”ç”¨â€**ï¼šeNSP é‡Œçš„ PC é…ç½®ï¼Œä¸ç‚¹åº”ç”¨ç›¸å½“äºæ²¡é…ã€‚
