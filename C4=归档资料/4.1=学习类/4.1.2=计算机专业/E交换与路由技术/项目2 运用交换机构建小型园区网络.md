# é¡¹ç›®2 è¿ç”¨äº¤æ¢æœºæ„å»ºå°å‹å›­åŒºç½‘ç»œ (åŸå­çº§æ‹†è§£æ·±åº¦å®å…¸)

> **å‰è¨€**ï¼šæœ¬èµ„æ–™ä¸“ä¸ºè§£å†³â€œæ¦‚å¿µæ¨¡ç³Šâ€è€Œç”Ÿã€‚
> **æ·±åº¦æ‰¿è¯º**ï¼šä¸æ”¾è¿‡ä»»ä½•ä¸€ä¸ªåè®®å­—æ®µã€è®¡æ—¶å™¨æ•°å€¼ã€çŠ¶æ€æœºè¿ç§»æ¡ä»¶ã€‚

---

## ç¬¬ä¸€ç« ï¼šVLAN æŠ€æœ¯ (Virtual Local Area Network)

### 1.1 VLAN çš„æœ¬è´¨ä¸äº”ç§åˆ’åˆ†æ–¹å¼ (æ·±åº¦è¾¨æ)
*   **ã€å®šä¹‰ã€‘**ï¼šVLAN æ˜¯å°†ç‰©ç†å±€åŸŸç½‘é€»è¾‘åˆ’åˆ†æˆå¤šä¸ªå¹¿æ’­åŸŸçš„æŠ€æœ¯ã€‚
*   **ã€æ ¸å¿ƒä»·å€¼ã€‘**ï¼š
    1.  **é™åˆ¶å¹¿æ’­åŸŸ**ï¼šå¹¿æ’­æŠ¥æ–‡ä»…åœ¨ VLAN å†…è½¬å‘ï¼Œé˜²æ­¢å¹¿æ’­é£æš´ã€‚
    2.  **å¢å¼ºå±€åŸŸç½‘å®‰å…¨æ€§**ï¼šä¸åŒ VLAN é—´çš„äºŒå±‚å¸§æ— æ³•ç›´æ¥äº’é€šï¼Œå¿…é¡»ç»è¿‡ä¸‰å±‚è®¾å¤‡ã€‚
    3.  **æé«˜ç½‘ç»œå¥å£®æ€§**ï¼šæ•…éšœè¢«é™åˆ¶åœ¨ VLAN å†…ã€‚
    4.  **çµæ´»æ„å»ºè™šæ‹Ÿå·¥ä½œç»„**ï¼šä¸å—ç‰©ç†ä½ç½®é™åˆ¶ã€‚

#### äº”ç§åˆ’åˆ†æ–¹å¼è¯¦è§£ (å¿…è€ƒç®€ç­”/é€‰æ‹©)
1.  **åŸºäºç«¯å£ (Port-based)**ï¼š
    *   **åŸç†**ï¼šå°†äº¤æ¢æœºçš„ç‰©ç†ç«¯å£åˆ†é…ç»™ VLANã€‚
    *   **ä¼˜ç‚¹**ï¼šå®šä¹‰æˆå‘˜ç®€å•ï¼Œæœ€å¸¸ç”¨ã€‚
    *   **ç¼ºç‚¹**ï¼šç”¨æˆ·ç§»åŠ¨ä½ç½®éœ€é‡æ–°é…ç½®ã€‚
2.  **åŸºäº MAC åœ°å€ (MAC-based)**ï¼š
    *   **åŸç†**ï¼šæ ¹æ®ç½‘å¡çš„ MAC åœ°å€åˆ’åˆ†ã€‚
    *   **ä¼˜ç‚¹**ï¼šç”¨æˆ·ç‰©ç†ç§»åŠ¨æ—¶ï¼ŒVLAN ä¸å˜ (ç§»åŠ¨åŠå…¬)ã€‚
    *   **ç¼ºç‚¹**ï¼šåˆå§‹åŒ–é…ç½®ç¹çï¼Œéœ€å½•å…¥æ‰€æœ‰ MACã€‚
3.  **åŸºäº IP å­ç½‘ (IP Subnet-based)**ï¼š
    *   **åŸç†**ï¼šæ ¹æ®æº IP åœ°å€æ®µåˆ’åˆ†ã€‚
    *   **ä¼˜ç‚¹**ï¼šå‡å°‘ VLAN é—´è·¯ç”±éœ€æ±‚ã€‚
    *   **ç¼ºç‚¹**ï¼šæ•ˆç‡è¾ƒä½ï¼Œéœ€æ£€æŸ¥ IP å¤´ã€‚
4.  **åŸºäºåè®® (Protocol-based)**ï¼š
    *   **åŸç†**ï¼šæ ¹æ®ä»¥å¤ªç½‘å¸§çš„åè®®ç±»å‹ (å¦‚ IPv4, IPv6, IPX, AppleTalk)ã€‚
    *   **ä¼˜ç‚¹**ï¼šä¾¿äºç®¡ç†ç‰¹å®šåº”ç”¨ã€‚
    *   **ç¼ºç‚¹**ï¼šéœ€æ£€æŸ¥å¸§å¤´ï¼Œæ•ˆç‡ä½ã€‚
5.  **åŸºäºç­–ç•¥ (Policy-based)**ï¼š
    *   **åŸç†**ï¼šç»¼åˆ MACã€IPã€ç«¯å£å¤šç§æ¡ä»¶ã€‚
    *   **ä¼˜ç‚¹**ï¼šæœ€çµæ´»ï¼Œå®‰å…¨æ€§æœ€é«˜ã€‚
    *   **ç¼ºç‚¹**ï¼šé…ç½®æœ€å¤æ‚ã€‚

### 1.2 802.1Q å¸§æ ¼å¼åŸå­çº§æ‹†è§£ (å¡«ç©º/é€‰æ‹©)
*   **æ ‡å‡†**ï¼šIEEE 802.1Qã€‚
*   **æ’å…¥ä½ç½®**ï¼šæº MAC åœ°å€ (6å­—èŠ‚) å’Œ ç±»å‹/é•¿åº¦ (2å­—èŠ‚) ä¹‹é—´ã€‚
*   **Tag ç»“æ„ (4 å­—èŠ‚ / 32 ä½)**ï¼š
    1.  **TPID (Tag Protocol Identifier)**ï¼š
        *   é•¿åº¦ï¼š**16 ä½ (2 å­—èŠ‚)**ã€‚
        *   å€¼ï¼šå›ºå®šä¸º **0x8100**ã€‚è¡¨ç¤ºè¿™æ˜¯ 802.1Q å¸§ã€‚
    2.  **TCI (Tag Control Information)**ï¼š
        *   **PRI (Priority)**ï¼š**3 ä½**ã€‚802.1p ä¼˜å…ˆçº§ï¼Œ0-7ã€‚ç”¨äº QoSã€‚
        *   **CFI (Canonical Format Indicator)**ï¼š**1 ä½**ã€‚0 è¡¨ç¤ºç»å…¸ä»¥å¤ªç½‘ï¼Œ1 è¡¨ç¤ºä»¤ç‰Œç¯ç½‘ã€‚
        *   **VID (VLAN ID)**ï¼š**12 ä½**ã€‚
            *   **å–å€¼èŒƒå›´**ï¼š$0 \sim 4095$ ($2^{12}$)ã€‚
            *   **ä¿ç•™å€¼**ï¼š0, 4095ã€‚
            *   **å¯ç”¨å€¼**ï¼š1 \sim 4094ã€‚
            *   **é»˜è®¤ VLAN**ï¼šVLAN 1ã€‚

### 1.3 åä¸ºæ¥å£å¤„ç†é€»è¾‘å…¨æ™¯å›¾ (åº”ç”¨é¢˜æ ¸å¿ƒ)
> **PVID (Port Default VLAN ID)**ï¼šæ¥å£çš„ç¼ºçœ VLAN IDã€‚

#### (1) Access æ¥å£ (æ¥å…¥é“¾è·¯)
*   **è¿æ¥å¯¹è±¡**ï¼šPCã€æœåŠ¡å™¨ã€ä¸è¯†åˆ« Tag çš„è®¾å¤‡ã€‚
*   **æ¥æ”¶ (Inbound)**ï¼š
    *   æ”¶åˆ°æ—  Tag å¸§ï¼š**æ‰“ä¸Š PVID** æ¥æ”¶ã€‚
    *   æ”¶åˆ°æœ‰ Tag å¸§ï¼š
        *   Tag == PVIDï¼šæ¥æ”¶ã€‚
        *   Tag != PVIDï¼š**ä¸¢å¼ƒ**ã€‚
*   **å‘é€ (Outbound)**ï¼š
    *   æ£€æŸ¥ Tag == PVIDï¼š**å‰¥ç¦» Tag** å‘é€ã€‚
    *   Tag != PVIDï¼š**ä¸ä¼šå‡ºç°åœ¨ Access å£** (å› ä¸ºæ¥æ”¶æ—¶å·²ä¸¢å¼ƒ)ã€‚

#### (2) Trunk æ¥å£ (å¹²é“é“¾è·¯)
*   **è¿æ¥å¯¹è±¡**ï¼šäº¤æ¢æœºã€è·¯ç”±å™¨ã€APã€‚
*   **æ¥æ”¶ (Inbound)**ï¼š
    *   æ”¶åˆ°æ—  Tag å¸§ï¼š**æ‰“ä¸Š PVID**ï¼Œæ£€æŸ¥ PVID æ˜¯å¦åœ¨ Allow åˆ—è¡¨ã€‚åœ¨åˆ™æ”¶ï¼Œä¸åœ¨ä¸¢å¼ƒã€‚
    *   æ”¶åˆ°æœ‰ Tag å¸§ï¼šæ£€æŸ¥ Tag æ˜¯å¦åœ¨ Allow åˆ—è¡¨ã€‚åœ¨åˆ™æ”¶ï¼Œä¸åœ¨ä¸¢å¼ƒã€‚
*   **å‘é€ (Outbound)**ï¼š
    *   Tag åœ¨ Allow åˆ—è¡¨ ä¸” Tag == PVIDï¼š**å‰¥ç¦» Tag** å‘é€ (ä¾‹å¤–æƒ…å†µ)ã€‚
    *   Tag åœ¨ Allow åˆ—è¡¨ ä¸” Tag != PVIDï¼š**ä¿æŒ Tag** å‘é€ (æ­£å¸¸æƒ…å†µ)ã€‚

#### (3) Hybrid æ¥å£ (æ··åˆé“¾è·¯ - åä¸ºç‰¹æœ‰)
*   **ç‰¹ç‚¹**ï¼šå¯ä»¥è¿æ¥ PCï¼Œä¹Ÿå¯ä»¥è¿æ¥äº¤æ¢æœºã€‚
*   **é…ç½®çµæ´»æ€§**ï¼š
    *   `port hybrid tagged vlan ...`ï¼šå‘é€æ—¶**å¸¦æ ‡ç­¾** (ç±»ä¼¼ Trunk)ã€‚
    *   `port hybrid untagged vlan ...`ï¼šå‘é€æ—¶**å‰¥ç¦»æ ‡ç­¾** (ç±»ä¼¼ Access)ã€‚
*   **å…¸å‹åº”ç”¨**ï¼š**IP ç”µè¯** (Voice VLAN)ã€‚ç”µè¯æµé‡å¸¦ Tagï¼ŒPC æµé‡ä¸å¸¦ Tagã€‚

---

## ç¬¬äºŒç« ï¼šSTP ç”Ÿæˆæ ‘åè®® (Spanning Tree Protocol)

### 2.1 ç¯è·¯å±å®³ (æ·±åº¦)
1.  **å¹¿æ’­é£æš´ (Broadcast Storm)**ï¼šå¹¿æ’­å¸§åœ¨ç¯è·¯ä¸­æ— é™å¾ªç¯ï¼Œå¸¦å®½è€—å°½ã€‚
2.  **MAC åœ°å€è¡¨éœ‡è¡ (MAC Flapping)**ï¼šåŒä¸€ä¸ª MAC åœ°å€åœ¨ä¸åŒç«¯å£åå¤å­¦ä¹ ï¼Œå¯¼è‡´äº¤æ¢æœº CPU å ç”¨ç‡ 100%ã€‚
3.  **å¤šå¸§å¤åˆ¶**ï¼šå•æ’­å¸§å¯èƒ½äº§ç”Ÿå¤šä¸ªå‰¯æœ¬åˆ°è¾¾ç›®çš„åœ°ã€‚

### 2.2 STP (802.1D) é€‰ä¸¾å››æ­¥æ³• (ç®€ç­”å¿…èƒŒ)
> **æ€»åŸåˆ™**ï¼š**è¶Šå°è¶Šä¼˜**ã€‚

1.  **é€‰æ ¹æ¡¥ (Root Bridge)**ï¼š
    *   å…¨ç½‘åªæœ‰ 1 ä¸ªã€‚
    *   æ¯”è¾ƒ **BID (Bridge ID)** = **ä¼˜å…ˆçº§ (2å­—èŠ‚)** + **MAC (6å­—èŠ‚)**ã€‚
    *   ä¼˜å…ˆçº§é»˜è®¤ **32768**ï¼Œæ­¥é•¿ **4096**ã€‚
2.  **é€‰æ ¹ç«¯å£ (Root Port, RP)**ï¼š
    *   æ¯ä¸ª**éæ ¹æ¡¥**é€‰ 1 ä¸ªã€‚
    *   æ¯”è¾ƒé¡ºåºï¼š
        1.  **RPC (Root Path Cost)**ï¼šè·¯å¾„å¼€é”€ã€‚åƒå…†=20000ï¼Œç™¾å…†=200000 (IEEE 802.1t)ã€‚
        2.  **å¯¹ç«¯ BID**ï¼šä¸Šæ¸¸äº¤æ¢æœºçš„ IDã€‚
        3.  **å¯¹ç«¯ PID**ï¼šä¸Šæ¸¸æ¥å£ ID (ä¼˜å…ˆçº§+ç«¯å£å·)ã€‚
        4.  **æœ¬ç«¯ PID**ï¼šè‡ªå·±çš„æ¥å£ IDã€‚
3.  **é€‰æŒ‡å®šç«¯å£ (Designated Port, DP)**ï¼š
    *   æ¯æ¡**é“¾è·¯**é€‰ 1 ä¸ªã€‚
    *   æ¯”è¾ƒé¡ºåºåŒä¸Šã€‚æ ¹æ¡¥çš„æ‰€æœ‰æ¥å£é€šå¸¸æ˜¯ DPã€‚
4.  **é€‰é˜»å¡ç«¯å£ (Alternate Port, AP)**ï¼š
    *   æ—¢ä¸æ˜¯ RP ä¹Ÿä¸æ˜¯ DP çš„ç«¯å£ï¼Œé€»è¾‘é˜»å¡ã€‚

### 2.3 STP ç«¯å£çŠ¶æ€è¯¦è§£ (å¡«ç©º)
1.  **Disabled**ï¼šæ¥å£ Down æˆ–æœªå¯ç”¨ STPã€‚
2.  **Blocking**ï¼š**ä»…æ¥æ”¶ BPDU**ï¼Œä¸å‘é€ BPDUï¼Œä¸å­¦ MACï¼Œä¸è½¬å‘æ•°æ®ã€‚
3.  **Listening**ï¼š**æ¥æ”¶å¹¶å‘é€ BPDU**ï¼Œé€‰ä¸¾æ ¹æ¡¥/ç«¯å£ã€‚ä¸å­¦ MACï¼Œä¸è½¬å‘ã€‚
4.  **Learning**ï¼š**å¼€å§‹å­¦ä¹  MAC åœ°å€** (æ„å»º MAC è¡¨)ï¼Œä¸è½¬å‘ã€‚é˜²æ­¢å¤§é‡æœªçŸ¥å•æ’­æ³›æ´ªã€‚
5.  **Forwarding**ï¼šæ­£å¸¸è½¬å‘æ•°æ®ã€‚

### 2.4 STP è®¡æ—¶å™¨ (å‚æ•°)
*   **Hello Time**ï¼š**2 ç§’**ã€‚æ ¹æ¡¥å‘é€ BPDU çš„é—´éš”ã€‚
*   **Max Age**ï¼š**20 ç§’**ã€‚BPDU çš„æœ€å¤§ç”Ÿå­˜æ—¶é—´ (è€åŒ–æ—¶é—´)ã€‚
*   **Forward Delay**ï¼š**15 ç§’**ã€‚çŠ¶æ€åˆ‡æ¢å»¶è¿Ÿ (Listening->Learning->Forwarding)ã€‚
*   **æ”¶æ•›æ—¶é—´**ï¼š30 ç§’ (2x15) ~ 50 ç§’ (20+30)ã€‚

### 2.5 RSTP (802.1W) çš„æ”¹è¿› (é¢†ä¼š)
*   **ç«¯å£è§’è‰²å¢åŠ **ï¼š
    *   **Alternate Port (AP)**ï¼šæ ¹ç«¯å£çš„å¤‡ä»½ã€‚
    *   **Backup Port (BP)**ï¼šæŒ‡å®šç«¯å£çš„å¤‡ä»½ã€‚
*   **çŠ¶æ€ç¼©å‡**ï¼š
    *   Discarding (åŒ…å« Disabled, Blocking, Listening)ã€‚
    *   Learningã€‚
    *   Forwardingã€‚
*   **å¿«é€Ÿæ”¶æ•›æœºåˆ¶**ï¼š
    *   **P/A æœºåˆ¶** (Proposal/Agreement)ï¼šæ¡æ‰‹ç¡®è®¤ï¼Œç§’çº§æ”¶æ•›ã€‚
    *   **è¾¹ç¼˜ç«¯å£ (Edge Port)**ï¼šè¿æ¥ç»ˆç«¯ï¼Œä¸å‚ä¸ç”Ÿæˆæ ‘ï¼Œ**0 ç§’è½¬å‘**ã€‚
    *   **æ ¹ç«¯å£å¿«é€Ÿåˆ‡æ¢**ï¼šä¸»æ ¹ç«¯å£æŒ‚äº†ï¼ŒAP ç«‹å³è½¬ä¸º RPã€‚

---

## ç¬¬ä¸‰ç« ï¼šé“¾è·¯èšåˆ (Eth-Trunk / Link Aggregation)

### 3.1 åŸºæœ¬æ¦‚å¿µ
*   **å®šä¹‰**ï¼šå°†å¤šä¸ªç‰©ç†æ¥å£æ†ç»‘ä¸ºä¸€ä¸ªé€»è¾‘æ¥å£ã€‚
*   **ç›®çš„**ï¼š**å¢åŠ å¸¦å®½** (æœ€å¤§ 8 ä¸ª)ã€**æé«˜å¯é æ€§** (ä¸»å¤‡)ã€**è´Ÿè½½åˆ†æ‹…**ã€‚
*   **é™åˆ¶æ¡ä»¶**ï¼š
    *   æ¥å£é€Ÿç‡ã€åŒå·¥æ¨¡å¼ã€å…‰/ç”µå±æ€§å¿…é¡»ä¸€è‡´ã€‚
    *   VLAN é…ç½®å¿…é¡»ä¸€è‡´ã€‚

### 3.2 LACP æ¨¡å¼ (802.3ad) æ·±åº¦
*   **é™æ€ LACP æ¨¡å¼**ï¼š
    *   é€šè¿‡å‘é€ **LACPDU** æŠ¥æ–‡åå•†ã€‚
    *   **ç³»ç»Ÿä¼˜å…ˆçº§**ï¼šé»˜è®¤ **32768**ã€‚è¶Šå°è¶Šä¼˜ï¼Œå†³å®š**ä¸»åŠ¨ç«¯**ã€‚
    *   **æ¥å£ä¼˜å…ˆçº§**ï¼šé»˜è®¤ **32768**ã€‚è¶Šå°è¶Šä¼˜ï¼Œå†³å®š**æ´»åŠ¨æ¥å£**ã€‚
    *   **æœ€å¤§æ´»åŠ¨æ¥å£æ•°**ï¼šæ¯”å¦‚è®¾ä¸º 2ï¼Œç‰©ç†è¿äº† 3 æ ¹çº¿ï¼Œåˆ™ 2 æ ¹è½¬å‘ï¼Œ1 æ ¹çƒ­å¤‡ã€‚

---

## ç¬¬å››ç« ï¼šä¸‰å±‚äº¤æ¢ä¸ VLAN é—´è·¯ç”±

### 4.1 ä¸‰å±‚äº¤æ¢åŸç† (é¢†ä¼š)
*   **â€œä¸€æ¬¡è·¯ç”±ï¼Œå¤šæ¬¡äº¤æ¢â€**ï¼š
    1.  é¦–åŒ… (First Packet) ä¸Šé€ CPUï¼ŒæŸ¥æ‰¾è·¯ç”±è¡¨ã€‚
    2.  CPU ä¸‹å‘ **FIB (è½¬å‘ä¿¡æ¯è¡¨)** å’Œ **é‚»æ¥è¡¨** åˆ° ASIC èŠ¯ç‰‡ã€‚
    3.  åç»­æ•°æ®æµç›´æ¥ç”±ç¡¬ä»¶è½¬å‘ï¼Œæ— éœ€ CPU å‚ä¸ã€‚
*   **VLANIF æ¥å£**ï¼š
    *   **ç±»å‹**ï¼šé€»è¾‘ä¸‰å±‚æ¥å£ã€‚
    *   **çŠ¶æ€**ï¼šåªè¦ VLAN å†…æœ‰ä¸€ä¸ªç‰©ç†å£ Upï¼ŒVLANIF å³ Upã€‚
    *   **ä½œç”¨**ï¼šé…ç½® IPï¼Œä½œä¸ºç½‘å…³ã€‚

---

## ç¬¬äº”ç« ï¼šVRRP è™šæ‹Ÿè·¯ç”±å†—ä½™åè®® (Virtual Router Redundancy Protocol)

### 5.1 æ ¸å¿ƒæ¦‚å¿µ (å¡«ç©º/é€‰æ‹©)
*   **VRID**ï¼šè™šæ‹Ÿè·¯ç”±å™¨æ ‡è¯†ç¬¦ (1-255)ã€‚
*   **Virtual IP (VIP)**ï¼šè™šæ‹Ÿç½‘å…³ IPã€‚å¯ä»¥ä¸ Master æ¥å£ IP ç›¸åŒã€‚
*   **Virtual MAC**ï¼š**00-00-5E-00-01-{VRID}**ã€‚
*   **Master / Backup**ï¼š
    *   **Master**ï¼šå“åº” ARPï¼Œè½¬å‘æ•°æ®ï¼Œå‘é€ VRRP é€šå‘Š (é»˜è®¤ 1ç§’)ã€‚
    *   **Backup**ï¼šç›‘å¬é€šå‘Šã€‚
*   **é€‰ä¸¾ä¾æ®**ï¼š**ä¼˜å…ˆçº§ (Priority)**ã€‚
    *   èŒƒå›´ 0-255ã€‚
    *   **é»˜è®¤ 100**ã€‚
    *   **0**ï¼šç‰¹æ®Šï¼Œè¡¨ç¤º Master ä¸»åŠ¨é€€å‡ºã€‚
    *   **255**ï¼šå½“æ¥å£ IP ç­‰äº VIP æ—¶ï¼Œä¼˜å…ˆçº§å›ºå®šä¸º 255 (IP æ‹¥æœ‰è€…)ã€‚
    *   **è§„åˆ™**ï¼š**è¶Šå¤§è¶Šä¼˜**ã€‚

### 5.2 æŠ¢å æ¨¡å¼ (Preempt Mode)
*   **é»˜è®¤å¼€å¯**ã€‚
*   **æŠ¢å å»¶è¿Ÿ**ï¼šMaster æ¢å¤åï¼Œç­‰å¾…ä¸€æ®µæ—¶é—´ (å¦‚ 20s) å†æŠ¢å› Masterï¼Œé˜²æ­¢è·¯ç”±éœ‡è¡ã€‚

---

## ç¬¬å…­ç« ï¼šDHCP åŠ¨æ€ä¸»æœºé…ç½®åè®®

### 6.1 DORA å››æ­¥äº¤äº’ (ç®€ç­”)
1.  **Discover (å‘ç°)**ï¼š
    *   å®¢æˆ·ç«¯ -> å¹¿æ’­ (255.255.255.255)ã€‚
    *   å«ä¹‰ï¼šæˆ‘å« MAC-Aï¼Œè°èƒ½ç»™æˆ‘ä¸ª IPï¼Ÿ
2.  **Offer (æä¾›)**ï¼š
    *   æœåŠ¡å™¨ -> å•æ’­/å¹¿æ’­ã€‚
    *   å«ä¹‰ï¼šæˆ‘æ˜¯ Server-1ï¼Œç»™ä½  192.168.1.100ï¼Œç§ŸæœŸ 8 å¤©ã€‚
3.  **Request (è¯·æ±‚)**ï¼š
    *   å®¢æˆ·ç«¯ -> å¹¿æ’­ã€‚
    *   å«ä¹‰ï¼šæˆ‘é€‰äº† Server-1 çš„ 1.100ï¼Œå…¶ä»–æœåŠ¡å™¨è¯·å›æ”¶ä½ ä»¬çš„ IPã€‚
4.  **Ack (ç¡®è®¤)**ï¼š
    *   æœåŠ¡å™¨ -> å•æ’­/å¹¿æ’­ã€‚
    *   å«ä¹‰ï¼šç¡®è®¤åˆ†é…ï¼Œä½ å¯ä»¥ç”¨äº†ã€‚

### 6.2 ç§Ÿçº¦æ›´æ–°æœºåˆ¶ (å¡«ç©º)
*   **T1 (50%)**ï¼šå•æ’­å‘ Server è¯·æ±‚ç»­çº¦ã€‚æˆåŠŸåˆ™æ—¶é—´é‡ç½®ã€‚
*   **T2 (87.5%)**ï¼šå¦‚æœ T1 å¤±è´¥ï¼Œå¹¿æ’­å‘ä»»æ„ Server è¯·æ±‚ç»­çº¦ã€‚
*   **è¿‡æœŸ**ï¼šIP æ”¶å›ï¼Œå®¢æˆ·ç«¯é‡æ–°å‘ Discoverã€‚

---

## ğŸ› ï¸ 13833 æ ¸å¿ƒé…ç½®å‘½ä»¤å¤§å…¨

### 1. Hybrid æ¥å£å…¸å‹é…ç½® (è¿æ¥ IP ç”µè¯)
```shell
interface g0/0/1
 port link-type hybrid
 port hybrid tagged vlan 100    # Voice VLAN (å¸¦æ ‡ç­¾)
 port hybrid untagged vlan 10   # Data VLAN (å‰¥ç¦»æ ‡ç­¾)
 port hybrid pvid vlan 10       # PC å‘æ¥çš„æ— æ ‡ç­¾å¸§å½’å…¥ VLAN 10
```

### 2. VRRP ä¸»å¤‡é…ç½® (Master)
```shell
interface Vlanif10
 ip address 192.168.10.252 24   # å®æ¥å£ IP
 vrrp vrid 1 virtual-ip 192.168.10.254  # è™šæ‹Ÿ IP
 vrrp vrid 1 priority 120       # ä¼˜å…ˆçº§ 120 > 100
 vrrp vrid 1 preempt-mode timer delay 20 # æŠ¢å å»¶è¿Ÿ 20s
```

### 3. DHCP Snooping (å®‰å…¨é˜²æŠ¤)
```shell
dhcp snooping enable
interface g0/0/1
 dhcp snooping trusted          # ä¿¡ä»»æ¥å£ (è¿æ¥åˆæ³•çš„ DHCP æœåŠ¡å™¨)
```
