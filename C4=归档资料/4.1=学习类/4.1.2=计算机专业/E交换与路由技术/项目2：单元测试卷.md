# 《交换与路由技术》(13833) 标准单元测试卷
## 项目 2：运用交换机构建小型园区网络

**课程代码**：13833  
**试卷结构**：单选(20) + 填空(10) + 简答(5) + 应用(2)  
**建议用时**：90 分钟

---

### 一、 单项选择题 (20 x 2分 = 40分)

1. VLAN 技术的标准协议是（A ）
   A. 802.1Q
   B. 802.11b
   C. 802.3
   D. 802.1X

2. 一个 VLAN 标签（Tag）的长度是多少个字节？（B ）
   A. 2
   B. 4
   C. 8
   D. 12

3. 交换机默认所有接口都属于哪个 VLAN？（B ）
   A. VLAN 0
   B. VLAN 1
   C. VLAN 10
   D. VLAN 4095

4. 下列哪个 VLAN ID 是保留给系统使用，用户无法创建的？（ A）
   A. 1
   B. 1024
   C. 2048
   D. 4095

5. 若要把交换机接口连接到普通办公电脑，应配置为什么接口类型？（ C）
   A. Trunk
   B. Hybrid
   C. Access
   D. Serial

6. Trunk 接口在发送数据帧时，如果不带标签（Untagged），则该帧属于（ B）
   A. VLAN 1
   B. PVID 对应的 VLAN
   C. 无法发送
   D. 广播 VLAN

7. 下列哪个命令用于创建一个 VLAN 10 并进入该视图？（A ）
   A. vlan 10
   B. create vlan 10
   C. interface vlan 10
   D. vlan database 10

8. 在华为交换机上，查看所有 VLAN 信息的命令是（ B）
   A. display current-configuration
   B. display vlan
   C. show vlan
   D. display interface brief

9. 链路聚合（Eth-Trunk）的主要作用不包括（D ）
   A. 增加带宽
   B. 提高可靠性
   C. 负载分担
   D. 自动分配 IP

10. STP（生成树协议）中，根桥选举的依据是（ B）
    A. 最小的 MAC 地址
    B. 最小的桥 ID (Bridge ID)
    C. 最大的优先级
    D. 最大的端口号

11. STP 协议中，接口从阻塞状态进入转发状态需要经历约多少秒的延迟？（B ）
    A. 15秒
    B. 30秒
    C. 50秒
    D. 立即进入

12. 为了加速终端设备（如 PC）上线，STP 中常配置什么技术跳过延迟？（C ）
    A. Root Guard
    B. BPDU Guard
    C. Edge Port (边缘端口)
    D. Loop Guard

13. 在三层交换机上实现不同 VLAN 间通信，需要配置（B ）
    A. 物理接口 IP
    B. VLANIF 虚接口 IP
    C. 静态路由
    D. 子接口

14. 命令 `port trunk allow-pass vlan 10 20` 的含义是（B ）
    A. 只允许 VLAN 10 通过
    B. 允许 VLAN 10 和 VLAN 20 通过
    C. 拒绝 VLAN 10 和 20 通过
    D. 将接口加入 VLAN 10

15. 链路聚合中，LACP 模式比 Manual 模式的优势在于（B ）
    A. 带宽更高
    B. 可以检测链路故障并自动切换
    C. 配置更简单
    D. 延迟更低

16. 某交换机优先级为 32768，另一台为 4096，在 STP 选举中（B ）
    A. 32768 更有可能成为根桥
    B. 4096 更有可能成为根桥
    C. 两者权重一样
    D. 无法判断

17. 下列哪个字段不属于 STP 桥 ID 的组成部分？（ C）
    A. 优先级
    B. MAC 地址
    C. IP 地址
    D. 扩展系统 ID

18. 交换机记录 MAC 地址与端口对应关系的表格称为（C ）
    A. 路由表
    B. ARP 表
    C. MAC 地址表
    D. 邻居表

19. 划分 VLAN 后，不同 VLAN 之间的通信必须经过（ A）
    A. 二层交换机
    B. 三层设备（路由器或三层交换机）
    C. 物理线缆直连
    D. 相同的 SSID

20. 接口在 STP 中被阻塞（Blocking）的原因是（C ）
    A. 接口物理损坏
    B. 接口没配 IP
    C. 为了消除物理环路
    D. 接口管理员手动关闭

---

### 二、 填空题 (10 x 2分 = 20分)

21. 划分 VLAN 的主要目的是隔离 __广播风暴________。
22. 802.1Q 帧中的 VLAN ID 字段共有 ___12_______ 位二进制，因此范围是 0-4095。
23. 将接口配置为 Access 类型后，需要使用命令 `port default vlan` 来配置其 ___PVID_______。
24. 在交换机级联链路中，通常需要将接口配置为 __TRUNK________ 模式。
25. 为了防止生成的树在物理拓扑变化时频繁抖动，STP 使用 ___BPDU_______ 数据包传递配置信息。
26. 生成树协议中，BPDU 的全称是 __Bridge Protocol Data Unit__________________。
27. 把多个物理接口捆绑为一个逻辑接口的技术称为 __链路聚合__________________。
28. 三层交换机实现 VLAN 间路由是通过 __VLANIF________ 接口来完成的。
29. 在 LACP 模式的 Eth-Trunk 中，主动端交换机决定了哪些链路处于 ___活动_______ 状态。
30. 默认情况下，华为交换机的 STP 模式是 ___MSTP_______。

---

### 三、 简答题 (5 x 6分 = 30分)

31. **简述交换机在接收到一个数据帧时，学习 MAC 地址的过程。**
交换机查看数据帧的源 MAC 地址，如果地址表里没有，则记录该 MAC 地址与接收端口的对应关系及所属 VLAN，并开启计时器
32. **简述 Access 接口和 Trunk 接口在处理数据帧标签（Tag）时的异同。**
Access: 进交换机打标签，出交换机则剥离标签
Trunk：只要在允许列表里，进出交换机都会携带标签（PVID 相同除外）。
33. **什么是广播风暴？为什么二层交换网络必须运行 STP 协议？**
广播风暴是指由于环路导致广播帧在网络中无限循环，耗尽带宽和 CPU。运行 STP 是为了逻辑上堵塞环路口，保证路径唯一。
34. **简述三层交换机与路由器的主要区别（提示：转发性能与功能重心）。**
三层交换机：硬件转发（一次路由，多次交换），速度极快，适用于园区局域网。
路由器：软件转发为主，功能丰富（NAT、VPN、广域网），适用于网络出口。
35. **在配置链路聚合（Eth-Trunk）时，必须满足哪些物理一致性条件（列举三点）？**
接口速率必须一致；双工模式必须一致；物理介质类型必须一致。

---

### 四、 综合应用题 (2 x 5分/10分 = 10分)

36. **VLAN 配置实战 (5分)**：
    现有交换机 S1，要求：
    (1) 创建 VLAN 10 和 VLAN 20。
    (2) 将接口 GE0/0/1 设为 Access 并加入 VLAN 10。
    (3) 将接口 GE0/0/24 设为 Trunk，并允许所有 VLAN 通过。
    **写出对应的命令序列。**

Vlan batch 10 20
Int g 0/0/1
Pla
Pdv 10
Int g 0/0/24
Plt
Ptava


38. **三层交换逻辑设计 (5分)**：
    某公司有两个部门，分别属于 VLAN 10 (192.168.10.0/24) 和 VLAN 20 (192.168.20.0/24)。
    (1) 若使用三层交换机 S1 实现两者互通，应如何配置 VLANIF 接口？
    (2) 简述 PC1 (VLAN 10) 发送数据包给 PC2 (VLAN 20) 的基本转发流程。
1创建 VLANIF 10 设为 IP 为 192.168.10.1；创建 VLANIF 20设 IP 为 192.168.20.1
2 PC 1 发包给网关（VLANIF 10）->三层交换机查找路由 1 表发现目标在直接相连 VLAN 20->查找 PC 2 的 MAC 地址->重新封装数据帧发给 PC 2。

---

## 附：参考答案 (项目 2)

### 一、 选择题
1-5: ABBDC  6-10: BABDB  11-15: BCBBB  16-20: BCCBC

### 二、 填空题
21. 广播域
22. 12
23. PVID (或默认VLAN)
24. Trunk
25. BPDU
26. Bridge Protocol Data Unit (桥协议数据单元)
27. 链路聚合 (或 Eth-Trunk)
28. VLANIF
29. 活动 (Selected/Active)
30. MSTP (或 STP/RSTP)

### 三、 简答题
31. 交换机查看数据帧的**源 MAC 地址**，如果地址表中没有，则记录该 MAC 地址与接收端口的对应关系及所属 VLAN，并开启计时器。
32. 
    - Access：进交换机打标签，出交换机**剥离**标签。
    - Trunk：只要在允许列表里，进出交换机都**携带**标签（PVID 相同除外）。
33. 广播风暴是指由于环路导致广播帧在网络中无限循环，耗尽带宽和 CPU。运行 STP 是为了逻辑上阻塞环路口，保证路径唯一。
34. 
    - 三层交换机：硬件转发（一次路由，多次交换），速度极快，适用于园区局域网。
    - 路由器：软件转发为主，功能丰富（NAT、VPN、广域网），适用于网络出口。
35. 接口速率必须一致；双工模式必须一致；物理介质类型必须一致。

### 四、 应用题
36. 
```shell
vlan batch 10 20
interface GigabitEthernet 0/0/1
 port link-type access
 port default vlan 10
quit
interface GigabitEthernet 0/0/24
 port link-type trunk
 port trunk allow-pass vlan all
```
37. 
(1) 创建 VLANIF 10 设 IP 为 192.168.10.1；创建 VLANIF 20 设 IP 为 192.168.20.1。
(2) PC1 发包给网关(VLANIF 10) -> 三层交换机查找路由表发现目标在直接相连的 VLANIF 20 -> 查找 PC2 的 MAC 地址 -> 重新封装数据帧发给 PC2。
